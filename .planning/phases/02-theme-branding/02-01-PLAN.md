---
phase: 02-theme-branding
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - content/themes/avancer-simplement/package.json
  - content/themes/avancer-simplement/gulpfile.js
  - content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2
  - content/themes/avancer-simplement/assets/css/fonts.css
autonomous: true

must_haves:
  truths:
    - "Theme folder exists with correct name in package.json"
    - "Inter font files are present in theme assets"
    - "npm install runs without errors"
  artifacts:
    - path: "content/themes/avancer-simplement/package.json"
      provides: "Theme metadata with name 'avancer-simplement'"
      contains: '"name": "avancer-simplement"'
    - path: "content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2"
      provides: "Self-hosted Inter variable font"
    - path: "content/themes/avancer-simplement/assets/css/fonts.css"
      provides: "@font-face declaration for Inter"
      contains: "@font-face"
  key_links:
    - from: "assets/css/fonts.css"
      to: "assets/fonts/inter/Inter-Variable.woff2"
      via: "src url in @font-face"
      pattern: "url.*Inter-Variable\\.woff2"
---

<objective>
Fork Casper theme, rename to avancer-simplement, and integrate self-hosted Inter font.

Purpose: Establish the theme foundation with proper naming (avoids Ghost upload conflicts) and typography (matches Circle.so branding).
Output: Working theme scaffold with Inter font ready for CSS customization.
</objective>

<execution_context>
@/root/.claude/get-shit-done/workflows/execute-plan.md
@/root/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-theme-branding/02-RESEARCH.md
@branding-avancer-simplement.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fork Casper and rename theme</name>
  <files>
    content/themes/avancer-simplement/package.json
    content/themes/avancer-simplement/*
  </files>
  <action>
1. Clone Casper 5.9.0 into content/themes/avancer-simplement:
   ```bash
   cd content/themes
   git clone --depth 1 https://github.com/TryGhost/Casper.git avancer-simplement
   rm -rf avancer-simplement/.git
   ```

2. Update package.json:
   - Change "name" from "casper" to "avancer-simplement"
   - Change "description" to "Theme Avancer Simplement - fork de Casper"
   - Change "version" to "1.0.0"
   - Update "author" to "Avancer Simplement"
   - Ensure "engines.ghost" is ">=5.0.0" (remove ghost-api if present)

3. Run npm install to verify dependencies work.

4. Run `npx gscan .` to validate theme structure.

AVOID: Do not modify any template files (.hbs) yet - that comes in later plans.
WHY: Keep this task focused on scaffolding only.
  </action>
  <verify>
    - `ls content/themes/avancer-simplement/package.json` exists
    - `grep '"name": "avancer-simplement"' content/themes/avancer-simplement/package.json` returns match
    - `cd content/themes/avancer-simplement && npm install` completes without errors
    - `cd content/themes/avancer-simplement && npx gscan .` shows no errors
  </verify>
  <done>
    Theme folder exists at content/themes/avancer-simplement with renamed package.json and all dependencies installed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Self-host Inter variable font</name>
  <files>
    content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2
    content/themes/avancer-simplement/assets/css/fonts.css
  </files>
  <action>
1. Create fonts directory:
   ```bash
   mkdir -p content/themes/avancer-simplement/assets/fonts/inter
   ```

2. Download Inter variable font (WOFF2 format):
   - Source: https://github.com/rsms/inter/releases (latest release)
   - File needed: Inter-Variable.woff2 from the release zip
   - Download via curl:
   ```bash
   curl -L -o /tmp/inter.zip "https://github.com/rsms/inter/releases/download/v4.0/Inter-4.0.zip"
   unzip -j /tmp/inter.zip "Inter-4.0/web/InterVariable.woff2" -d content/themes/avancer-simplement/assets/fonts/inter/
   mv content/themes/avancer-simplement/assets/fonts/inter/InterVariable.woff2 content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2
   ```

3. Create assets/css/fonts.css with @font-face declaration:
   ```css
   /* Inter Variable Font - Self-hosted for performance and GDPR compliance */
   @font-face {
       font-family: 'Inter';
       font-style: normal;
       font-weight: 100 900;
       font-display: swap;
       src: url('../fonts/inter/Inter-Variable.woff2') format('woff2-variations');
   }
   ```

4. This file will be imported by screen.css in Plan 02-02.

AVOID: Do not use Google Fonts CDN.
WHY: Self-hosted is faster and GDPR compliant (per research).
  </action>
  <verify>
    - `ls content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2` exists
    - `file content/themes/avancer-simplement/assets/fonts/inter/Inter-Variable.woff2` confirms WOFF2 format
    - `cat content/themes/avancer-simplement/assets/css/fonts.css` contains @font-face declaration
  </verify>
  <done>
    Inter variable font is self-hosted in theme assets with proper @font-face CSS ready for import.
  </done>
</task>

</tasks>

<verification>
Overall plan verification:
1. Theme folder structure matches Casper with custom name
2. Font files are accessible and properly referenced
3. No GScan errors on theme validation
</verification>

<success_criteria>
- Theme folder exists at content/themes/avancer-simplement
- package.json has name "avancer-simplement"
- npm install completes without errors
- Inter-Variable.woff2 exists in assets/fonts/inter/
- fonts.css contains @font-face for Inter
- gscan validation passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-theme-branding/02-01-SUMMARY.md`
</output>
