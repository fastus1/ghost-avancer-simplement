---
phase: 03-advanced-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - content/themes/avancer-simplement/partials/circle-header.hbs
  - content/themes/avancer-simplement/assets/css/screen.css
autonomous: true

must_haves:
  truths:
    - "Header is 64px tall with #2B2E33 background in dark mode"
    - "Logo displays from Cloudinary URL at 360x36px"
    - "Navigation shows 7 links: Accueil, Nos Applications, Cours, Blog, Evenements, Membres, Leaderboard"
    - "Blog link has active pill style (background #42464D, border, rounded)"
    - "External links open in new tab with noopener"
  artifacts:
    - path: "content/themes/avancer-simplement/partials/circle-header.hbs"
      provides: "Header HTML with Circle.so navigation"
      contains: "circle-header"
    - path: "content/themes/avancer-simplement/assets/css/screen.css"
      provides: "Header CSS styles"
      contains: ".circle-header"
  key_links:
    - from: "partials/circle-header.hbs"
      to: "CSS variables from global.css"
      via: "var(--color-header-bg)"
      pattern: "var\\(--color-header"
---

<objective>
Create the Circle.so-style header partial with hardcoded navigation links

Purpose: Replicate Circle.so header for seamless transition between platforms
Output: Header partial and CSS ready for layout integration in Plan 03
</objective>

<execution_context>
@/root/.claude/get-shit-done/workflows/execute-plan.md
@/root/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-advanced-layout/03-CONTEXT.md
@.planning/phases/03-advanced-layout/03-RESEARCH.md
@/root/yan/projets/Ghost Avancer Simplement/design-ghost.md

# Existing theme structure
@content/themes/avancer-simplement/default.hbs
@content/themes/avancer-simplement/assets/css/global.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Circle header partial</name>
  <files>content/themes/avancer-simplement/partials/circle-header.hbs</files>
  <action>
Create partials/circle-header.hbs with Circle.so navigation structure:

1. Header container with class "circle-header"
2. Inner wrapper "circle-header__inner" for flex layout
3. Logo section:
   - Link to {{@site.url}}
   - Cloudinary image: https://res.cloudinary.com/dxhn08di4/image/upload/v1770034227/logo-plateforme_ibpiqf.png
   - Alt text: {{@site.title}}
   - Explicit width="360" height="36"

4. Navigation (nav with aria-label="Navigation principale"):
   - ul.circle-nav with 7 list items
   - External links (target="_blank" rel="noopener noreferrer"):
     - Accueil: https://communaute.avancersimplement.com/feed
     - Nos Applications: https://communaute.avancersimplement.com/nos-applications
     - Cours: https://communaute.avancersimplement.com/courses
     - Evenements: https://communaute.avancersimplement.com/events
     - Membres: https://communaute.avancersimplement.com/members
     - Leaderboard: https://communaute.avancersimplement.com/leaderboard
   - Internal link (no target, with aria-current="page"):
     - Blog: {{@site.url}} with class "circle-nav__item--active"

5. Hamburger trigger (label for mobile menu checkbox):
   - class="circle-header__burger"
   - for="mobile-menu-toggle"
   - aria-label="Menu"
   - Three span.burger-line elements

Note: The hamburger will be functional in Plan 02 when mobile menu is added.
  </action>
  <verify>
File exists and contains all navigation links:
- grep "communaute.avancersimplement.com" partials/circle-header.hbs
- grep "circle-nav__item--active" partials/circle-header.hbs
  </verify>
  <done>Header partial exists with all 7 navigation links, logo, and hamburger trigger</done>
</task>

<task type="auto">
  <name>Task 2: Add header CSS styles</name>
  <files>content/themes/avancer-simplement/assets/css/screen.css</files>
  <action>
Add new section "14. Circle Header" after section 13 (Theme Toggle) in screen.css:

Header container:
- .circle-header: height 64px, padding 8px 36px, background var(--color-header-bg), border-bottom 1px solid var(--color-border), position sticky, top 0, z-index 100

Inner wrapper:
- .circle-header__inner: display flex, align-items center, justify-content space-between, width 100%

Logo:
- .circle-header__logo: display flex, align-items center
- .circle-header__logo img: height 36px, width auto

Navigation:
- .circle-nav: display flex, gap 8px, list-style none, margin 0, padding 0
- .circle-nav__link: display block, padding 8px 16px, font-family var(--font-primary), font-size 14px, font-weight 500, color var(--color-header-text), text-decoration none, border-radius 9999px, transition background-color 0.2s ease
- .circle-nav__link:hover, .circle-nav__link:focus: background var(--color-header-active-bg)

Active state (pill):
- .circle-nav__item--active .circle-nav__link: background var(--color-header-active-bg), border 1px solid var(--color-border), color var(--color-header-active-text)

Hamburger (hidden on desktop, shown in Plan 02 responsive):
- .circle-header__burger: display none (will be flex on mobile in Plan 03)
- .burger-line: display block, height 2px, width 24px, background var(--color-header-text), border-radius 1px, margin 3px 0

Note: Use CSS variables from global.css (--color-header-bg, --color-header-text, etc.) for dark/light mode compatibility.
  </action>
  <verify>
CSS contains header styles:
- grep ".circle-header {" assets/css/screen.css
- grep ".circle-nav__link" assets/css/screen.css
  </verify>
  <done>Header CSS with sticky positioning, navigation links, and active pill state</done>
</task>

<task type="auto">
  <name>Task 3: Validate theme builds</name>
  <files>content/themes/avancer-simplement/assets/built/screen.css</files>
  <action>
Run theme build and validation:

1. cd content/themes/avancer-simplement
2. npm run zip (builds CSS via gulp)
3. npx gscan . --v5 (validate for Ghost 6.x)

Fix any build errors before proceeding.

Do NOT modify default.hbs yet - header integration happens in Plan 03.
  </action>
  <verify>
- npm run zip completes without error
- gscan shows no errors (warnings acceptable)
- assets/built/screen.css contains .circle-header
  </verify>
  <done>Theme builds successfully with new header CSS</done>
</task>

</tasks>

<verification>
1. File content/themes/avancer-simplement/partials/circle-header.hbs exists
2. File contains all 7 navigation links with correct URLs
3. File contains Cloudinary logo URL
4. screen.css contains section "14. Circle Header"
5. All CSS uses variables from global.css
6. Theme builds without errors
</verification>

<success_criteria>
- Header partial ready for inclusion in default.hbs
- CSS styles match Circle.so design spec (64px height, pill active state)
- All colors use CSS variables for dark/light mode support
- Theme passes gscan validation
</success_criteria>

<output>
After completion, create `.planning/phases/03-advanced-layout/03-01-SUMMARY.md`
</output>
